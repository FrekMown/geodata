(window.webpackJsonpgeodata=window.webpackJsonpgeodata||[]).push([[0],[,,,,,,,function(e,t,n){e.exports=n(26)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(5),o=n.n(c),i=(n(12),n(2)),l=n(1);n(13),n(14);var u=function(){return r.a.createElement("div",{id:"Navbar"},r.a.createElement("div",{id:"navbar-title"},"World Bank Indicators"))},d=(n(15),n(16),function(e){return r.a.createElement("div",{id:"CountryInactiveItem",onClick:function(t){return e.toggleCountry(e.country.alpha3Code)},style:e.active?{backgroundColor:"darkblue",color:"wheat"}:{}},r.a.createElement("div",{id:"country-inactive-names"},r.a.createElement("div",{id:"country-inactive-name"},e.country.name),r.a.createElement("div",{id:"country-inactive-native-name"},e.country.nativeName===e.country.name?"":e.country.nativeName)),r.a.createElement("div",{id:"country-inactive-flag"},r.a.createElement("img",{src:e.country.flag,alt:""})))}),s=function(e){return r.a.createElement("div",{id:"CountryActiveItem",onClick:function(t){return e.toggleCountry(e.country.alpha3Code)}},r.a.createElement("div",{id:"country-active-first-line"},r.a.createElement("div",{id:"country-active-alpha3Code"},e.country.alpha3Code),r.a.createElement("div",{id:"country-active-title"},e.country.name)),r.a.createElement("div",{id:"country-active-first-block"},r.a.createElement("div",{id:"country-active-first-block-left"},r.a.createElement("div",{id:"country-active-flag"},r.a.createElement("img",{src:e.country.flag,alt:""}))),r.a.createElement("div",{id:"country-active-first-block-right"},r.a.createElement("div",{id:"country-active-name"},r.a.createElement("strong",null,"Native name: "),e.country.nativeName),r.a.createElement("div",{id:"country-active-capital"},r.a.createElement("strong",null,"Capital: "),e.country.capital),r.a.createElement("div",{id:"country-active-region"},r.a.createElement("strong",null,"Region: "),e.country.region," (",e.country.subregion,")"))),r.a.createElement("div",{id:"country-active-num"},r.a.createElement("div",{id:"country-active-pop"},r.a.createElement("strong",null,"Population: "),new Intl.NumberFormat("en-US").format(e.country.population)),r.a.createElement("div",{id:"country-active-area"},r.a.createElement("strong",null,"Area: "),new Intl.NumberFormat("en-US").format(e.country.area))),r.a.createElement("div",{id:"country-active-lang"},r.a.createElement("strong",null,"Languages: "),e.country.languages.map((function(e){return e.name})).join(", ")))},m=(n(17),function(e){return r.a.createElement("div",{id:"IndicatorInactiveItem",onClick:function(){return e.setSelIndicator(e.indicator.id)},style:e.active?{backgroundColor:"darkblue",color:"wheat"}:{}},r.a.createElement("div",{id:"indicator-inactive-id"},e.indicator.id),r.a.createElement("div",{id:"indicator-inactive-name"},e.indicator.name))}),f=function(e){return r.a.createElement("div",{id:"IndicatorActiveItem"},r.a.createElement("div",{id:"indicator-active-id"},e.indicator.id),r.a.createElement("div",{id:"indicator-active-name"},e.indicator.name),r.a.createElement("div",{id:"indicator-active-sourceNote"},e.indicator.sourceNote))},v=10;var p=function(e){var t=Object(a.useState)(!0),n=Object(l.a)(t,2),c=n[0],o=n[1],u=Object(a.useState)("countries"),s=Object(l.a)(u,2),f=s[0],p=s[1],y=Object(a.useState)([]),E=Object(l.a)(y,2),g=E[0],b=E[1],h=Object(a.useState)([]),j=Object(l.a)(h,2),C=j[0],O=j[1],k=Object(a.useState)("0"),I=Object(l.a)(k,2),w=I[0],S=I[1],R=Object(a.useState)(null),A=Object(l.a)(R,2),N=A[0],_=A[1],z=Object(a.useState)(null),x=Object(l.a)(z,2),P=x[0],F=x[1],M=Object(a.useState)([]),B=Object(l.a)(M,2),H=B[0],W=B[1],J=Object(a.useState)([]),U=Object(l.a)(J,2),Y=U[0],q=U[1],L=Object(a.useState)("all"),T=Object(l.a)(L,2),$=T[0],D=T[1];Object(a.useEffect)((function(){void 0!==e.plotlyRef.current&&null!==e.plotlyRef.current&&e.plotlyRef.current.resizeHandler()}),[c,e.plotlyRef]),Object(a.useEffect)((function(){fetch("https://restcountries.eu/rest/v2/all?fields=name;alpha3Code;flag;nativeName;subregion").then((function(e){return e.json()})).then((function(e){b(e),q(e)})).catch((function(e){return console.log(e)}))}),[]),Object(a.useEffect)((function(){q("all"===$?Object(i.a)(g):g.filter((function(e){return e.subregion===$})))}),[$]),Object(a.useEffect)((function(){fetch("https://api.worldbank.org/v2/topic?format=json").then((function(e){return e.json()})).then((function(e){return O(e[1])})).catch((function(e){return console.log(e)}))}),[]),Object(a.useEffect)((function(){if("0"!==w){var e="https://api.worldbank.org/v2/topic/".concat(w,"/indicator?format=json&per_page=").concat(v);fetch(e).then((function(e){return e.json()})).then((function(e){F(e[0].page),_(e[0].total),W(e[1])})).catch((function(e){return console.log(e)}))}else W([]),F(0),_(0)}),[w]);var G,K,Q,V,X,Z,ee,te=function(e){var t="https://api.worldbank.org/v2/topic/".concat(w,"/indicator?format=json&per_page=").concat(v,"&page=").concat(e);fetch(t).then((function(e){return e.json()})).then((function(e){F(e[0].page),_(e[0].total),W(e[1])})).catch((function(e){return console.log(e)}))};if("indicators"===f&&"0"!==w&&(G=r.a.createElement("div",{id:"options-pagination"},r.a.createElement("button",{onClick:function(){return te(P-1)},disabled:P<=1},"<"),r.a.createElement("button",{onClick:function(){return te(P+1)},disabled:P>=N},">"))),"indicators"===f&&(K=r.a.createElement("div",{id:"options-indicators"},H.map((function(t){return r.a.createElement(m,{key:t.id,indicator:t,setSelIndicator:e.setSelIndicator,active:t.id===e.selIndicator})})))),"indicators"===f&&(Q=r.a.createElement("select",{onChange:function(e){return S(e.target.value)},value:w,id:"options-select-topic"},r.a.createElement("option",{key:0,value:0},"Please Choose a Topic"),C.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.value)})))),"indicators"===f&&w>0&&(V=r.a.createElement("div",{id:"options-topics-description"},C.filter((function(e){return e.id===w}))[0].sourceNote)),"countries"===f){var ne=Array.from(new Set(g.map((function(e){return e.subregion})).filter((function(e){return e.length>0}))));X=r.a.createElement("select",{id:"options-select-subregion",value:$,onChange:function(e){return D(e.target.value)}},r.a.createElement("option",{value:"all",key:"all"},"All subregions"),ne.map((function(e){return r.a.createElement("option",{key:e},e)})))}"countries"===f&&(Z=r.a.createElement("button",{onClick:function(){return e.addCountries(Y)}},"Add All")),"countries"===f&&(ee=Y.map((function(t){return r.a.createElement(d,{country:t,key:t.alpha3Code,toggleCountry:e.toggleCountry,active:e.selCountries.includes(t.alpha3Code)})})));var ae=r.a.createElement("form",{id:"options-form",onChange:function(e){return p(e.target.value)}},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",value:"countries",name:"type",defaultChecked:"countries"===f}),"Countries"),r.a.createElement("label",null,r.a.createElement("input",{type:"radio",value:"indicators",name:"type",defaultChecked:"indicators"===f}),"Indicators"));return c?r.a.createElement("div",{id:"Options"},r.a.createElement("div",{id:"options-first-line"},r.a.createElement("div",{id:"options-title"},"Options"),r.a.createElement("div",{id:"options-close-button",onClick:function(){return o(!1)}},"<<")),ae,X,Z,r.a.createElement("div",{id:"options-country-items"},ee),Q,V,G,K,G):r.a.createElement("div",{id:"options-hidden",onClick:function(){return o(!0)}},r.a.createElement("div",null,">>"))},y=(n(18),n(6)),E=n.n(y),g=["world_map","time_series"];var b=function(e){var t,n,c,o,u,d,s=Object(a.useState)("time_series"),m=Object(l.a)(s,2),f=m[0],v=m[1],p=Object(a.useState)([]),y=Object(l.a)(p,2),b=y[0],h=y[1],j=Object(a.useState)(0),C=Object(l.a)(j,2),O=C[0],k=C[1],I=e.selCountries.length>0&&e.selIndicator.length>0;if(Object(a.useEffect)((function(){if(I){var t=e.selCountries.map((function(t){return fetch("https://api.worldbank.org/v2/country/".concat(t,"/indicator/").concat(e.selIndicator,"?format=json&frequency=Y&per_page=60")).then((function(e){return e.json()})).then((function(e){return e[1].filter((function(e){return null!==e.value}))})).then((function(e){return e.map((function(e){return{countryId:t,year:parseInt(e.date),value:e.value,unit:e.unit}}))})).catch((function(e){return console.log(t,e)}))}));Promise.all(t).then((function(e){return function(e){var t=[],n=!0,a=!1,r=void 0;try{for(var c,o=e[Symbol.iterator]();!(n=(c=o.next()).done);n=!0){var l=c.value;l&&(t=[].concat(Object(i.a)(t),Object(i.a)(l)))}}catch(u){a=!0,r=u}finally{try{n||null==o.return||o.return()}finally{if(a)throw r}}return t}(e)})).then((function(e){return e.filter((function(e){return null!==e.value}))})).then((function(e){h(e)}))}}),[e.selCountries,e.selIndicator]),I&&(t=r.a.createElement("select",{id:"plots-select-type",value:f,onChange:function(e){return v(e.target.value)}},g.map((function(e){return r.a.createElement("option",{key:e},e)})))),I&&"world_map"===f){var w=Array.from(new Set(b.map((function(e){return e.year})))).sort((function(e,t){return t-e}));n=r.a.createElement("select",{id:"plots-select-year",value:O,onChange:function(e){return k(e.target.value)}},r.a.createElement("option",{key:"",value:0},"Year?"),w.map((function(e){return r.a.createElement("option",{key:e},e)}))),c=r.a.createElement("button",{onClick:function(){var e=Object(i.a)(w),t=setInterval((function(){e.length>0?k(e.pop()):clearInterval(t)}),500)}},"Start !")}if(I&&"time_series"===f&&(o=Array.from(new Set(b.map((function(e){return e.countryId})))).map((function(e){var t=b.filter((function(t){return t.countryId===e}));return{x:t.map((function(e){return e.year})),y:t.map((function(e){return e.value})),name:e,type:"scatter"}})),u={showlegend:!0}),I&&"world_map"===f&&O.length>0){var S=b.filter((function(e){return e.year===O})),R=b.map((function(e){return e.value}));o=[{type:"choropleth",locations:S.map((function(e){return e.countryId})),z:S.map((function(e){return e.value})),zmin:Math.min.apply(Math,Object(i.a)(R)),zmax:Math.max.apply(Math,Object(i.a)(R)),autocolorscale:!0,showscale:!0}],u={geo:{projection:{type:"mercator",showframe:!1}},showframe:!1,margin:{t:0,r:0,b:0,l:0},autosize:!0,uirevision:!0}}return o&&u&&(d=r.a.createElement(E.a,{data:o,layout:u,ref:e.plotlyRef,useResizeHandler:!0})),r.a.createElement("div",{id:"Plots"},r.a.createElement("div",{id:"plots-title"},"Plots"),r.a.createElement("div",{id:"plots-worldmap-form"},t,n,c),r.a.createElement("div",{id:"plot-plotly"},d))};n(25);var h=function(e){var t,n,c,o=Object(a.useState)(!0),i=Object(l.a)(o,2),u=i[0],d=i[1],m=Object(a.useState)([]),v=Object(l.a)(m,2),p=v[0],y=v[1],E=Object(a.useState)(null),g=Object(l.a)(E,2),b=g[0],h=g[1];return Object(a.useEffect)((function(){void 0!==e.plotlyRef.current&&null!==e.plotlyRef.current&&e.plotlyRef.current.resizeHandler()}),[u,e.plotlyRef]),Object(a.useEffect)((function(){if(e.selIndicator.length>0){var t="https://api.worldbank.org/v2/indicator/".concat(e.selIndicator,"?format=json");fetch(t).then((function(e){return e.json()})).then((function(e){return h(e[1][0])})).catch((function(e){return console.log(e)}))}else h(null)}),[e.selIndicator]),Object(a.useEffect)((function(){if(e.selCountries.length>0){var t="https://restcountries.eu/rest/v2/alpha/?codes=".concat(e.selCountries.join(";"));fetch(t).then((function(e){return e.json()})).then((function(e){return y(e)})).catch((function(e){return console.log(e)}))}else y([])}),[e.selCountries]),null!==b&&(t=r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Selected Indicator:"),r.a.createElement(f,{indicator:b}))),e.selCountries.length>0&&(n=r.a.createElement("button",{onClick:e.removeAllCountries},"Clear Countries")),p.length>0&&(c=r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Selected Countries:"),p.map((function(t){return r.a.createElement(s,{country:t,key:t.alpha3Code,toggleCountry:e.toggleCountry})})))),u?r.a.createElement("div",{id:"Summary"},r.a.createElement("div",{id:"summary-first-line"},r.a.createElement("div",{id:"summary-close-button",onClick:function(){return d(!1)}},">>"),r.a.createElement("div",{id:"summary-title"},"Summary")),r.a.createElement("div",{id:"summary-indicator"},t),r.a.createElement("div",{id:"summary-countries"},n,c)):r.a.createElement("div",{id:"summary-hidden",onClick:function(){return d(!0)}},r.a.createElement("div",null,"<<"))};var j=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),d=Object(l.a)(o,2),s=d[0],m=d[1],f=Object(a.useRef)(),v=function(e){n.includes(e)?c(n.filter((function(t){return t!==e}))):c([].concat(Object(i.a)(n),[e]))};return r.a.createElement("div",{id:"App"},r.a.createElement(u,null),r.a.createElement("div",{id:"app-main-content"},r.a.createElement(p,{selCountries:n,selIndicator:s,toggleCountry:v,setSelIndicator:m,addCountries:function(e){var t=e.map((function(e){return e.alpha3Code})).filter((function(e){return!n.includes(e)}));c([].concat(Object(i.a)(n),Object(i.a)(t)))},plotlyRef:f}),r.a.createElement(b,{selCountries:n,selIndicator:s,plotlyRef:f}),r.a.createElement(h,{selCountries:n,selIndicator:s,toggleCountry:v,removeAllCountries:function(){c([])},plotlyRef:f})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[7,1,2]]]);
//# sourceMappingURL=main.12360e56.chunk.js.map